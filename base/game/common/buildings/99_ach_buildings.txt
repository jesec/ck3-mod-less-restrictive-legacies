oath_warriors_building_01 = {
    construction_time = standard_construction_time
    
	can_construct_potential = {
        scope:holder = {
            has_variable = provide_for_the_warriors_oath
        }
	}

    can_construct_showing_failures_only = {
        scope:holder = {
            trigger_if = {
                limit = {
                    is_ai = yes
                }
                always = yes
            }
            trigger_else_if = {
                limit = {
                    culture = { has_cultural_era_or_later = culture_era_high_medieval }
                }
                custom_tooltip = {
                    text = oath_warriors_building_01_tooltip_high_medieval
                    any_knight = {
                        count >= 3
                        prowess >= 14
                        any_character_trait = {
		            		has_trait_category = commander
		            	}
                    }
                } 
            }
            trigger_else = {
                custom_tooltip = {
                    text = oath_warriors_building_01_tooltip_early_medieval
                    any_knight = {
                        count >= 2
                        prowess >= 10
                        any_character_trait = {
		            		has_trait_category = commander
		            	}
                    }
                }
            }
        }
    }   

	cost_gold = expensive_building_tier_1_cost
    
	
	character_modifier = {
		knight_limit = 1
        knight_effectiveness_mult = 0.1
	}
	province_modifier = {
		stationed_maa_damage_mult = 0.1
        stationed_maa_toughness_mult = 0.05
	}
	
	next_building = oath_warriors_building_02

	type_icon = "oath_warriors_building.dds"
	
	ai_value = {
		base = 20
        modifier = {
            factor = 0
            scope:holder = {
                any_directly_owned_province = {
                    count >= 3
                    has_building_or_higher = oath_warriors_building_01
                }
            }
        }
	}
}

oath_warriors_building_02 = {

    can_construct_showing_failures_only = {
        scope:holder = {
            trigger_if = {
                limit = {
                    is_ai = yes
                }
                always = yes
            }
            trigger_else_if = {
                limit = {
                    culture = { has_cultural_era_or_later = culture_era_late_medieval }
                }
                custom_tooltip = {
                    text = oath_warriors_building_02_tooltip_late_medieval
                    calc_true_if = {
                        amount >= 6
                        any_maa_regiment = {
                            maa_size >= 8
                            is_unit_type = elephant_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 8
                            is_unit_type = heavy_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 8
                            is_unit_type = heavy_infantry
                        }
                        any_maa_regiment = {
                            maa_size >= 8
                            is_unit_type = light_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 8
                            is_unit_type = archer_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 8
                            is_unit_type = pikemen
                        }
                        any_maa_regiment = {
                            maa_size >= 8
                            is_unit_type = archers
                        }
                        any_maa_regiment = {
                            maa_size >= 8
                            is_unit_type = skirmishers
                        }
                        any_maa_regiment = {
                            maa_size >= 8
                            is_unit_type = camel_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 8
                            is_unit_type = siege_weapon
                        }
                    }
                }
            }
            trigger_else_if = {
                limit = {
                    culture = { has_cultural_era_or_later = culture_era_high_medieval }
                }
                custom_tooltip = {
                    text = oath_warriors_building_02_tooltip_high_medieval
                    calc_true_if = {
                        amount >= 5
                        any_maa_regiment = {
                            maa_size >= 6
                            is_unit_type = elephant_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 6
                            is_unit_type = heavy_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 6
                            is_unit_type = heavy_infantry
                        }
                        any_maa_regiment = {
                            maa_size >= 6
                            is_unit_type = light_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 6
                            is_unit_type = archer_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 6
                            is_unit_type = pikemen
                        }
                        any_maa_regiment = {
                            maa_size >= 6
                            is_unit_type = archers
                        }
                        any_maa_regiment = {
                            maa_size >= 6
                            is_unit_type = skirmishers
                        }
                        any_maa_regiment = {
                            maa_size >= 6
                            is_unit_type = camel_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 6
                            is_unit_type = siege_weapon
                        }
                    }
                }
            }
            trigger_else_if = {
                limit = {
                    culture = { has_cultural_era_or_later = culture_era_early_medieval }
                }
                custom_tooltip = {
                    text = oath_warriors_building_02_tooltip_early_medieval
                    calc_true_if = {
                        amount >= 4
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = elephant_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = heavy_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = heavy_infantry
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = light_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = archer_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = pikemen
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = archers
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = skirmishers
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = camel_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = siege_weapon
                        }
                    }
                }
            }
            trigger_else = {
                custom_tooltip = {
                    text = oath_warriors_building_02_tooltip_default
                        calc_true_if = {
                        amount >= 3
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = elephant_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = heavy_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = heavy_infantry
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = light_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = archer_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = pikemen
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = archers
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = skirmishers
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = camel_cavalry
                        }
                        any_maa_regiment = {
                            maa_size >= 4
                            is_unit_type = siege_weapon
                        }
                    }
                }          
            }
        }
    }

	cost_gold = expensive_building_tier_2_cost
    construction_time = standard_construction_time
	
    character_modifier = {
		knight_limit = 1
        knight_effectiveness_mult = 0.1
        men_at_arms_maintenance = -0.01
	}

	province_modifier = {
		stationed_maa_damage_mult = 0.15
        stationed_maa_toughness_mult = 0.07
	}

    next_building = oath_warriors_building_03
	type_icon = "oath_warriors_building.dds"
	
	ai_value = {
		base = 100
	}
}

oath_warriors_building_03 = {

    can_construct_showing_failures_only = {
        scope:holder = {
            trigger_if = {
                limit = {
                    is_ai = yes
                }
                always = yes
            }
            trigger_else_if = {
                limit = {
                   culture = { has_cultural_era_or_later = culture_era_late_medieval }
                }
                custom_tooltip = {
                    text = oath_warriors_building_03_tooltip_late_medieval
                    any_knight = {
                        count >= 8
                        prowess >= 16
                        martial >= 16
                    }
                }
            }
            trigger_else_if = {
                limit = {
                    culture = { has_cultural_era_or_later = culture_era_high_medieval }
                }
                custom_tooltip = {
                    text = oath_warriors_building_03_tooltip_high_medieval
                    any_knight = {
                        count >= 6
                        prowess >= 14
                        martial >= 14
                    }      
                }
            }
            trigger_else = {
                custom_tooltip = {
                    text = oath_warriors_building_03_tooltip_default
                    any_knight = {
                        count >= 4
                        prowess >= 12
                        martial >= 12
                    } 
                }
            }
        }
    }

	cost_gold = expensive_building_tier_3_cost
    construction_time = standard_construction_time
	
	character_modifier = {
		knight_limit = 1
        knight_effectiveness_mult = 0.1
        men_at_arms_maintenance = -0.03
	}

	province_modifier = {
		stationed_maa_damage_mult = 0.2
        stationed_maa_toughness_mult = 0.1
        stationed_maa_siege_value_add = 0.1
	}

	type_icon = "oath_warriors_building.dds"
    next_building = oath_warriors_building_04
	
	ai_value = {
		base = 100
	}
}

oath_warriors_building_04 = {

    can_construct_showing_failures_only = {
        custom_tooltip = {
            text = oath_warriors_building_04_tooltip
            has_province_modifier = oath_provide_for_the_warriors_province
        }
    }

	cost_gold = expensive_building_tier_4_cost
    construction_time = standard_construction_time
	
	province_modifier = {
		stationed_maa_damage_mult = 0.3
        stationed_maa_toughness_mult = 0.2
        stationed_maa_siege_value_add = 0.2
	}

    character_modifier = {
        men_at_arms_maintenance = -0.05
        knight_limit = 1
        knight_effectiveness_mult = 0.15
    }

	type_icon = "oath_warriors_building.dds"
	
	ai_value = {
		base = 100
	}
}

oath_faithful_building_01 = {

    can_construct_potential = {
        scope:holder = {
            has_variable = provide_for_the_faithful_oath
        }
    }

    is_enabled = {
        faith = scope:holder.faith
    }

    can_construct_showing_failures_only = {
        faith = scope:holder.faith
        scope:holder = {
            trigger_if = {
                limit = {
                    is_ai = yes
                }
                always = yes
            }
            trigger_else_if = {
                limit = {
                    culture = { has_cultural_era_or_later = culture_era_high_medieval }
                }
                custom_tooltip = {
                    text = oath_faithful_building_01_tooltip_high_medieval
                    any_courtier = {
                        count >= 3
                        learning >= 16
                    }
                }
            }
            trigger_else = {
                custom_tooltip = {
                    text = oath_faithful_building_01_tooltip_default
                    any_courtier = {
                        count >= 2
                        learning >= 14
                    }
                }
            }
        }
    }   

    cost_gold = expensive_building_tier_1_cost
    construction_time = standard_construction_time
    
    character_modifier = {
        monthly_piety_gain_mult = 0.025
    }

    province_modifier ={
        monthly_income = poor_building_tax_tier_1
    }
    
    next_building = oath_faithful_building_02

    type_icon = "oath_faithful_building.dds"
    
    ai_value = {
		base = 20
        modifier = {
            factor = 0
            scope:holder = {
                any_directly_owned_province = {
                    count >= 3
                    has_building_or_higher = oath_faithful_building_01
                }
            }  
        }
	}
}

oath_faithful_building_02 = {

    is_enabled = {
        faith = scope:holder.faith
    }

    can_construct_showing_failures_only = {
        faith = scope:holder.faith
        scope:holder = {
        	trigger_if = {
                limit = {
                    is_ai = yes
                }
                always = yes
            }
            trigger_else_if = {
                limit = {
                    culture = { has_cultural_era_or_later = culture_era_high_medieval }
                }
                custom_tooltip = {
                    text = oath_faithful_building_03_tooltip_high_medieval
                    any_vassal = {
                        count >= 6
                        piety_level >= 3
                    }
                }
            }
            trigger_else = {
                custom_tooltip = {
                    text = oath_faithful_building_03_tooltip_default
                    any_vassal = {
                        count >= 3
                        piety_level >= 3
                    }
                }
            }
        }
    }

    cost_gold = expensive_building_tier_2_cost
    construction_time = standard_construction_time
    
    character_modifier = {
        monthly_piety_gain_mult = 0.05
    }

    province_modifier ={
        monthly_income = poor_building_tax_tier_2
        epidemic_resistance = 4
    }

    next_building = oath_faithful_building_03

    type_icon = "oath_faithful_building.dds"
    
    ai_value = {
        base = 100
    }
}

oath_faithful_building_03 = {

    is_enabled = {
        faith = scope:holder.faith
    }

    next_building = oath_faithful_building_04

    can_construct_showing_failures_only = {
        faith = scope:holder.faith
        scope:holder = {
            trigger_if = {
                limit = {
                    is_ai = yes
                }
                always = yes
            }
            trigger_else_if = {
                limit = {
                   culture = { has_cultural_era_or_later = culture_era_high_medieval }
                }
                custom_tooltip = {
                    text = oath_faithful_building_02_tooltip_high_medieval
                    any_close_family_member = {
                        count >= 4
                        has_trait = devoted
                    }
                }
            }
            trigger_else = {
                custom_tooltip = {
                    text = oath_faithful_building_02_tooltip_default
                    any_close_family_member = {
                        count >= 2
                        has_trait = devoted
                    }
                }
            }
        }
    }

    cost_gold = expensive_building_tier_3_cost
    construction_time = standard_construction_time
    
    character_modifier = {
        monthly_piety_gain_mult = 0.075
    }

    province_modifier = {
        monthly_income = poor_building_tax_tier_3
        epidemic_resistance = 8
    }

    type_icon = "oath_faithful_building.dds"
    
    ai_value = {
        base = 100
    }
}

oath_faithful_building_04 = {

    is_enabled = {
        faith = scope:holder.faith
    }

    can_construct_showing_failures_only = {
        faith = scope:holder.faith
        custom_tooltip = {
            text = oath_faithful_building_04_tooltip
            has_province_modifier = oath_provide_for_the_faithful_province
        }
    }

    cost_gold = expensive_building_tier_4_cost
    construction_time = standard_construction_time
    
    character_modifier = {
        monthly_piety_gain_mult = 0.1
        monthly_piety = 0.1
        clergy_opinion = 4
    }

    province_modifier = {
        monthly_income = poor_building_tax_tier_4
        epidemic_resistance = 12
    }

    type_icon = "oath_faithful_building.dds"
    
    ai_value = {
        base = 100
    }
}

oath_poor_building_01 = {

    can_construct_potential = {
        scope:holder = {
            has_variable = provide_for_the_poor_oath
        }
    }

    can_construct_showing_failures_only = {
        scope:holder = {
            trigger_if = {
                limit = {
                    culture = { has_cultural_era_or_later = culture_era_late_medieval }
                }
                custom_tooltip = {
                    text = oath_poor_building_01_tooltip_late_medieval
                    any_courtier = {
                        count >= 6
                        is_lowborn = yes
                    }
                }
            }
            trigger_else_if = {
                limit = {
                    culture = { has_cultural_era_or_later = culture_era_high_medieval }
                }
                custom_tooltip = {
                    text = oath_poor_building_01_tooltip_high_medieval
                    any_courtier = {
                        count >= 4
                        is_lowborn = yes
                    }
                }
            }
            trigger_else = {
                custom_tooltip = {
                    text = oath_poor_building_01_tooltip_default
                    any_courtier = {
                        count >= 2
                        is_lowborn = yes
                    }
                }
            }
        }
    }   

    cost_gold = expensive_building_tier_1_cost
    construction_time = standard_construction_time

    county_modifier = {
        tax_mult = -0.05
        development_growth = 0.05
        county_opinion_add = 10
    }
    
    next_building = oath_poor_building_02

    type_icon = "oath_poor_building.dds"
    
    ai_value = {
        base = 0
    }
}

oath_poor_building_02 = {

    can_construct_showing_failures_only = {
        scope:holder = {
            trigger_if = {
                limit = {
                    culture = { has_cultural_era_or_later = culture_era_high_medieval }
                }
                custom_tooltip = {
                    text = oath_poor_building_02_tooltip_high_medieval
                    any_vassal = {
                        count >= 3
                        has_trait = compassionate
                    }
                }
            }
            trigger_else = {
                custom_tooltip = {
                    text = oath_poor_building_02_tooltip_default
                    any_vassal = {
                        count >= 2
                        has_trait = compassionate
                    }
                }
            }
        }
    }

    cost_gold = expensive_building_tier_2_cost
    construction_time = standard_construction_time
    
    county_modifier = {
        tax_mult = -0.1
        development_growth_factor = 0.05
        development_growth = 0.1
        county_opinion_add = 15
    }

    next_building = oath_poor_building_03

    type_icon = "oath_poor_building.dds"
    
    ai_value = {
        base = 0
    }
}

oath_poor_building_03 = {

    can_construct_showing_failures_only = {
        scope:holder = {
            custom_tooltip = {
                text = oath_poor_building_03_tooltip_default
                any_councillor = {
                    count >= 1
                    is_vassal_of = scope:holder
                    has_trait = compassionate
                }
            }
        }
    }

    cost_gold = expensive_building_tier_3_cost
    construction_time = standard_construction_time
    
    county_modifier = {
        tax_mult = -0.2
        development_growth_factor = 0.15
        development_growth = 0.2
        county_opinion_add = 20
    }

    next_building = oath_poor_building_04

    type_icon = "oath_poor_building.dds"
    
    ai_value = {
        base = 0
    }
}

oath_poor_building_04 = {

    can_construct_showing_failures_only = {
        custom_tooltip = {
            text = oath_poor_building_04_tooltip
            has_province_modifier = oath_provide_for_the_poor_province
        }    
    }

    cost_gold = expensive_building_tier_4_cost
    construction_time = standard_construction_time
    
    county_modifier = {
        tax_mult = -0.3
        development_growth_factor = 0.2
        development_growth = 0.3
        county_opinion_add = 30
    }

    type_icon = "oath_poor_building.dds"
    
    ai_value = {
        base = 0
    }
}
